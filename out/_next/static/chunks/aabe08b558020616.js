(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},12426,e=>{"use strict";let t=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],12426)},61911,e=>{"use strict";let t=(0,e.i(75254).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>t],61911)},81140,30030,75830,e=>{"use strict";function t(e,r,{checkForDefaultPrevented:a=!0}={}){return function(t){if(e?.(t),!1===a||!t.defaultPrevented)return r?.(t)}}e.s(["composeEventHandlers",()=>t],81140);var r=e.i(71645),a=e.i(43476);function s(e,t=[]){let n=[],i=()=>{let t=n.map(e=>r.createContext(e));return function(a){let s=a?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:s}}),[a,s])}};return i.scopeName=e,[function(t,s){let i=r.createContext(s),l=n.length;n=[...n,s];let o=t=>{let{scope:s,children:n,...o}=t,c=s?.[e]?.[l]||i,d=r.useMemo(()=>o,Object.values(o));return(0,a.jsx)(c.Provider,{value:d,children:n})};return o.displayName=t+"Provider",[o,function(a,n){let o=n?.[e]?.[l]||i,c=r.useContext(o);if(c)return c;if(void 0!==s)return s;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=a.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return a.scopeName=t.scopeName,a}(i,...t)]}e.s(["createContextScope",()=>s],30030);var n=e.i(20783),i=e.i(91918);function l(e){let t=e+"CollectionProvider",[l,o]=s(t),[c,d]=l(t,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:t,children:s}=e,n=r.default.useRef(null),i=r.default.useRef(new Map).current;return(0,a.jsx)(c,{scope:t,itemMap:i,collectionRef:n,children:s})};u.displayName=t;let m=e+"CollectionSlot",x=r.default.forwardRef((e,t)=>{let{scope:r,children:s}=e,l=d(m,r),o=(0,n.useComposedRefs)(t,l.collectionRef);return(0,a.jsx)(i.Slot,{ref:o,children:s})});x.displayName=m;let f=e+"CollectionItemSlot",h="data-radix-collection-item",v=r.default.forwardRef((e,t)=>{let{scope:s,children:l,...o}=e,c=r.default.useRef(null),u=(0,n.useComposedRefs)(t,c),m=d(f,s);return r.default.useEffect(()=>(m.itemMap.set(c,{ref:c,...o}),()=>void m.itemMap.delete(c))),(0,a.jsx)(i.Slot,{...{[h]:""},ref:u,children:l})});return v.displayName=f,[{Provider:u,Slot:x,ItemSlot:v},function(t){let a=d(e+"CollectionConsumer",t);return r.default.useCallback(()=>{let e=a.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${h}]`));return Array.from(a.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[a.collectionRef,a.itemMap])},o]}e.s(["createCollection",()=>l],75830)},10772,34620,e=>{"use strict";var t=e.i(71645),r=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r],34620);var a=t["useId".toString()]||(()=>void 0),s=0;function n(e){let[n,i]=t.useState(a());return r(()=>{e||i(e=>e??String(s++))},[e]),e||(n?`radix-${n}`:"")}e.s(["useId",()=>n],10772)},30207,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>(...e)=>r.current?.(...e),[])}e.s(["useCallbackRef",()=>r])},69340,e=>{"use strict";var t=e.i(71645),r=e.i(30207);function a({prop:e,defaultProp:a,onChange:s=()=>{}}){let[n,i]=function({defaultProp:e,onChange:a}){let s=t.useState(e),[n]=s,i=t.useRef(n),l=(0,r.useCallbackRef)(a);return t.useEffect(()=>{i.current!==n&&(l(n),i.current=n)},[n,i,l]),s}({defaultProp:a,onChange:s}),l=void 0!==e,o=l?e:n,c=(0,r.useCallbackRef)(s);return[o,t.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&c(r)}else i(t)},[l,e,i,c])]}e.s(["useControllableState",()=>a])},86318,e=>{"use strict";var t=e.i(71645);e.i(43476);var r=t.createContext(void 0);function a(e){let a=t.useContext(r);return e||a||"ltr"}e.s(["useDirection",()=>a])},27341,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(81140),s=e.i(30030),n=e.i(75830),i=e.i(20783),l=e.i(10772),o=e.i(48425),c=e.i(30207),d=e.i(69340),u=e.i(86318),m="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[h,v,p]=(0,n.createCollection)(f),[g,y]=(0,s.createContextScope)(f,[p]),[b,j]=g(f),N=r.forwardRef((e,r)=>(0,t.jsx)(h.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(h.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(C,{...e,ref:r})})}));N.displayName=f;var C=r.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:n,orientation:l,loop:f=!1,dir:h,currentTabStopId:p,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:y,onEntryFocus:j,preventScrollOnEntryFocus:N=!1,...C}=e,w=r.useRef(null),T=(0,i.useComposedRefs)(s,w),_=(0,u.useDirection)(h),[E=null,k]=(0,d.useControllableState)({prop:p,defaultProp:g,onChange:y}),[S,M]=r.useState(!1),D=(0,c.useCallbackRef)(j),I=v(n),H=r.useRef(!1),[A,P]=r.useState(0);return r.useEffect(()=>{let e=w.current;if(e)return e.addEventListener(m,D),()=>e.removeEventListener(m,D)},[D]),(0,t.jsx)(b,{scope:n,orientation:l,dir:_,loop:f,currentTabStopId:E,onItemFocus:r.useCallback(e=>k(e),[k]),onItemShiftTab:r.useCallback(()=>M(!0),[]),onFocusableItemAdd:r.useCallback(()=>P(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>P(e=>e-1),[]),children:(0,t.jsx)(o.Primitive.div,{tabIndex:S||0===A?-1:0,"data-orientation":l,...C,ref:T,style:{outline:"none",...e.style},onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,()=>{H.current=!0}),onFocus:(0,a.composeEventHandlers)(e.onFocus,e=>{let t=!H.current;if(e.target===e.currentTarget&&t&&!S){let t=new CustomEvent(m,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=I().filter(e=>e.focusable);R([e.find(e=>e.active),e.find(e=>e.id===E),...e].filter(Boolean).map(e=>e.ref.current),N)}}H.current=!1}),onBlur:(0,a.composeEventHandlers)(e.onBlur,()=>M(!1))})})}),w="RovingFocusGroupItem",T=r.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:n,focusable:i=!0,active:c=!1,tabStopId:d,...u}=e,m=(0,l.useId)(),x=d||m,f=j(w,n),p=f.currentTabStopId===x,g=v(n),{onFocusableItemAdd:y,onFocusableItemRemove:b}=f;return r.useEffect(()=>{if(i)return y(),()=>b()},[i,y,b]),(0,t.jsx)(h.ItemSlot,{scope:n,id:x,focusable:i,active:c,children:(0,t.jsx)(o.Primitive.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...u,ref:s,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{i?f.onItemFocus(x):e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>f.onItemFocus(x)),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let s=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return _[s]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&s.reverse();let n=s.indexOf(e.currentTarget);s=f.loop?(r=s,a=n+1,r.map((e,t)=>r[(a+t)%r.length])):s.slice(n+1)}setTimeout(()=>R(s))}})})})});T.displayName=w;var _={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var E=e.i(34620),k=e=>{var t;let a,s,{present:n,children:l}=e,o=function(e){var t,a;let[s,n]=r.useState(),i=r.useRef({}),l=r.useRef(e),o=r.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",a={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>a[e][t]??e,t));return r.useEffect(()=>{let e=S(i.current);o.current="mounted"===c?e:"none"},[c]),(0,E.useLayoutEffect)(()=>{let t=i.current,r=l.current;if(r!==e){let a=o.current,s=S(t);e?d("MOUNT"):"none"===s||t?.display==="none"?d("UNMOUNT"):r&&a!==s?d("ANIMATION_OUT"):d("UNMOUNT"),l.current=e}},[e,d]),(0,E.useLayoutEffect)(()=>{if(s){let e,t=s.ownerDocument.defaultView??window,r=r=>{let a=S(i.current).includes(r.animationName);if(r.target===s&&a&&(d("ANIMATION_END"),!l.current)){let r=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=r)})}},a=e=>{e.target===s&&(o.current=S(i.current))};return s.addEventListener("animationstart",a),s.addEventListener("animationcancel",r),s.addEventListener("animationend",r),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",a),s.removeEventListener("animationcancel",r),s.removeEventListener("animationend",r)}}d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:r.useCallback(e=>{e&&(i.current=getComputedStyle(e)),n(e)},[])}}(n),c="function"==typeof l?l({present:o.isPresent}):r.Children.only(l),d=(0,i.useComposedRefs)(o.ref,(t=c,(s=(a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof l||o.isPresent?r.cloneElement(c,{ref:d}):null};function S(e){return e?.animationName||"none"}k.displayName="Presence";var M="Tabs",[D,I]=(0,s.createContextScope)(M,[y]),H=y(),[A,P]=D(M),U=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:s,onValueChange:n,defaultValue:i,orientation:c="horizontal",dir:m,activationMode:x="automatic",...f}=e,h=(0,u.useDirection)(m),[v,p]=(0,d.useControllableState)({prop:s,onChange:n,defaultProp:i});return(0,t.jsx)(A,{scope:a,baseId:(0,l.useId)(),value:v,onValueChange:p,orientation:c,dir:h,activationMode:x,children:(0,t.jsx)(o.Primitive.div,{dir:h,"data-orientation":c,...f,ref:r})})});U.displayName=M;var F="TabsList",O=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:s=!0,...n}=e,i=P(F,a),l=H(a);return(0,t.jsx)(N,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:s,children:(0,t.jsx)(o.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:r})})});O.displayName=F;var L="TabsTrigger",$=r.forwardRef((e,r)=>{let{__scopeTabs:s,value:n,disabled:i=!1,...l}=e,c=P(L,s),d=H(s),u=B(c.baseId,n),m=V(c.baseId,n),x=n===c.value;return(0,t.jsx)(T,{asChild:!0,...d,focusable:!i,active:x,children:(0,t.jsx)(o.Primitive.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...l,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||i||!e||c.onValueChange(n)})})})});$.displayName=L;var K="TabsContent",z=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:n,forceMount:i,children:l,...c}=e,d=P(K,s),u=B(d.baseId,n),m=V(d.baseId,n),x=n===d.value,f=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(k,{present:i||x,children:({present:r})=>(0,t.jsx)(o.Primitive.div,{"data-state":x?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:m,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:f.current?"0s":void 0},children:r&&l})})});function B(e,t){return`${e}-trigger-${t}`}function V(e,t){return`${e}-content-${t}`}z.displayName=K;var q=e.i(47163);let G=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(O,{ref:a,className:(0,q.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));G.displayName=O.displayName;let W=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)($,{ref:a,className:(0,q.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));W.displayName=$.displayName;let J=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(z,{ref:a,className:(0,q.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));J.displayName=z.displayName,e.s(["Tabs",()=>U,"TabsContent",()=>J,"TabsList",()=>G,"TabsTrigger",()=>W],27341)},72164,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(38036),n=e.i(17927);async function i(){try{let e=await (0,s.getCurrentUser)();if(!e)throw Error("Usuario no autenticado");let{data:t,error:r}=await n.supabase.from("reservations").select(`
        *,
        services:service_id (
          name,
          duration_minutes
        ),
        barber:barber_id (
          full_name,
          avatar_url
        ),
        payments (
          payment_method,
          status,
          transaction_id
        )
      `).eq("client_id",e.id).order("reservation_date",{ascending:!1}).order("start_time",{ascending:!1});if(r)throw r;return t||[]}catch(e){throw Error(e.message||"Error al obtener reservas")}}async function l(){try{let e=await (0,s.getCurrentUser)();if(!e||e.profile?.role!=="barbero")throw Error("Usuario no autorizado");let{data:t,error:r}=await n.supabase.from("reservations").select(`
        *,
        services:service_id (
          name,
          duration_minutes
        ),
        client:client_id (
          full_name,
          phone
        ),
        payments (
          payment_method,
          status
        )
      `).eq("barber_id",e.id).order("reservation_date",{ascending:!1}).order("start_time",{ascending:!1});if(r)throw r;return t||[]}catch(e){throw Error(e.message||"Error al obtener reservas")}}async function o(){try{let e=await (0,s.getCurrentUser)();if(!e?.profile)throw Error("Usuario no autenticado");let{data:t,error:r}=await n.supabase.rpc("get_dashboard_stats",{p_user_id:e.id,p_role:e.profile.role});if(r)throw r;return t}catch(e){throw Error(e.message||"Error al obtener estadísticas")}}var c=e.i(67881),d=e.i(70065),u=e.i(25913),m=e.i(47163);let x=(0,u.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:e,variant:r,...a}){return(0,t.jsx)("div",{className:(0,m.cn)(x({variant:r}),e),...a})}var h=e.i(27341),v=e.i(75254);let p=(0,v.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var g=e.i(3116),y=e.i(12426),b=e.i(61911);let j=(0,v.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),N=(0,v.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),C=(0,v.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function w({user:e,profile:n}){let[u,m]=(0,r.useState)([]),[x,v]=(0,r.useState)(null),[w,T]=(0,r.useState)(!0),[_,R]=(0,r.useState)("overview"),E=(0,a.useRouter)();(0,r.useEffect)(()=>{k()},[n.role]);let k=async()=>{try{T(!0);let e=await o();if(v(e),"barbero"===n.role){let e=await l();m(e)}else{let e=await i();m(e)}}catch(e){console.error("Error loading dashboard data:",e)}finally{T(!1)}},S=async()=>{try{await (0,s.signOut)(),E.push("/")}catch(e){console.error("Error signing out:",e)}};return w?(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-white",children:"Cargando..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,t.jsx)("header",{className:"bg-gray-800 border-b border-gray-700 p-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(N,{className:"h-8 w-8 text-accent-color"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-gray-400",children:n.full_name})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(f,{variant:"outline",className:"capitalize",children:n.role}),(0,t.jsxs)(c.Button,{onClick:S,variant:"outline",size:"sm",className:"text-white border-gray-600 hover:bg-gray-700",children:[(0,t.jsx)(j,{className:"h-4 w-4 mr-2"}),"Cerrar Sesión"]})]})]})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,t.jsxs)(h.Tabs,{value:_,onValueChange:R,children:[(0,t.jsxs)(h.TabsList,{className:"grid w-full grid-cols-3 bg-gray-800",children:[(0,t.jsx)(h.TabsTrigger,{value:"overview",className:"data-[state=active]:bg-accent-color",children:"Resumen"}),(0,t.jsx)(h.TabsTrigger,{value:"reservations",className:"data-[state=active]:bg-accent-color",children:"Reservas"}),(0,t.jsx)(h.TabsTrigger,{value:"profile",className:"data-[state=active]:bg-accent-color",children:"Perfil"})]}),(0,t.jsx)(h.TabsContent,{value:"overview",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:["cliente"===n.role&&x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Total Reservas"}),(0,t.jsx)(p,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:x.total_reservations||0})})]}),(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Próximas"}),(0,t.jsx)(g.Clock,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:x.upcoming_reservations||0})})]}),(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Completadas"}),(0,t.jsx)(b.Users,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:x.completed_reservations||0})})]}),(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Canceladas"}),(0,t.jsx)(y.DollarSign,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:x.cancelled_reservations||0})})]})]}),"barbero"===n.role&&x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Hoy"}),(0,t.jsx)(p,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:x.today_reservations||0})})]}),(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Esta Semana"}),(0,t.jsx)(g.Clock,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:x.week_reservations||0})})]}),(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Ganancias Totales"}),(0,t.jsx)(y.DollarSign,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["$",x.total_earnings||0]})})]}),(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Tasa de Finalización"}),(0,t.jsx)(b.Users,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[x.completion_rate||0,"%"]})})]})]}),"super_admin"===n.role&&x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Total Usuarios"}),(0,t.jsx)(b.Users,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:x.total_users||0})})]}),(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Total Reservas"}),(0,t.jsx)(p,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:x.total_reservations||0})})]}),(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Hoy"}),(0,t.jsx)(g.Clock,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:x.today_reservations||0})})]}),(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-gray-400",children:"Ingresos Totales"}),(0,t.jsx)(y.DollarSign,{className:"h-4 w-4 text-accent-color"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["$",x.total_revenue||0]})})]})]})]})}),(0,t.jsx)(h.TabsContent,{value:"reservations",className:"space-y-6",children:(0,t.jsx)("div",{className:"space-y-4",children:0===u.length?(0,t.jsx)(d.Card,{className:"bg-gray-800 border-gray-700",children:(0,t.jsx)(d.CardContent,{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"text-center text-gray-400",children:[(0,t.jsx)(p,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No tienes reservas aún"}),"cliente"===n.role&&(0,t.jsx)(c.Button,{onClick:()=>E.push("/sub-services"),className:"mt-4 bg-accent-color hover:bg-accent-color/90",children:"Hacer una Reserva"})]})})}):u.map(e=>{var r;let a,s;return(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsx)(d.CardHeader,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.CardTitle,{className:"text-white",children:e.services?.name||"Servicio"}),(0,t.jsxs)(d.CardDescription,{className:"text-gray-400",children:[new Date(e.reservation_date).toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," a las ",e.start_time.substring(0,5)]})]}),(r=e.status,s=(a={pending:{label:"Pendiente",variant:"secondary"},confirmed:{label:"Confirmada",variant:"default"},completed:{label:"Completada",variant:"default"},cancelled:{label:"Cancelada",variant:"destructive"},no_show:{label:"No Asistió",variant:"destructive"}})[r]||a.pending,(0,t.jsx)(f,{variant:s.variant,children:s.label}))]})}),(0,t.jsxs)(d.CardContent,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Precio:"}),(0,t.jsxs)("span",{className:"ml-2 text-white font-semibold",children:["$",e.total_price]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"barbero"===n.role?"Cliente:":"Barbero:"}),(0,t.jsx)("span",{className:"ml-2 text-white",children:"barbero"===n.role?e.client?.full_name||"Cliente":e.barber?.full_name||"Barbero"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Duración:"}),(0,t.jsxs)("span",{className:"ml-2 text-white",children:[e.services?.duration_minutes||0," min"]})]})]}),e.notes&&(0,t.jsxs)("div",{className:"mt-4 p-3 bg-gray-700 rounded-md",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Notas:"}),(0,t.jsx)("p",{className:"text-white mt-1",children:e.notes})]})]})]},e.id)})})}),(0,t.jsx)(h.TabsContent,{value:"profile",className:"space-y-6",children:(0,t.jsxs)(d.Card,{className:"bg-gray-800 border-gray-700",children:[(0,t.jsxs)(d.CardHeader,{children:[(0,t.jsx)(d.CardTitle,{className:"text-white",children:"Información del Perfil"}),(0,t.jsx)(d.CardDescription,{className:"text-gray-400",children:"Gestiona tu información personal"})]}),(0,t.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-400",children:"Nombre Completo"}),(0,t.jsx)("p",{className:"text-white mt-1",children:n.full_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-400",children:"Correo Electrónico"}),(0,t.jsx)("p",{className:"text-white mt-1",children:n.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-400",children:"Teléfono"}),(0,t.jsx)("p",{className:"text-white mt-1",children:n.phone||"No especificado"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-400",children:"Rol"}),(0,t.jsx)("p",{className:"text-white mt-1 capitalize",children:n.role})]}),"barbero"===n.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-400",children:"Años de Experiencia"}),(0,t.jsxs)("p",{className:"text-white mt-1",children:[n.experience_years||0," años"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-400",children:"Turno de Trabajo"}),(0,t.jsx)("p",{className:"text-white mt-1 capitalize",children:n.work_shift||"No especificado"})]})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(c.Button,{variant:"outline",className:"text-white border-gray-600 hover:bg-gray-700",children:[(0,t.jsx)(C,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})})]})]})})]})})]})}e.s(["default",()=>w],72164)}]);